General fixes and stability improvements
