load("//Config:buck_rule_macros.bzl", "static_library")

apple_resource(
    name = "LegacyComponentsResources",
    dirs = [
        "LegacyComponents/Resources/LegacyComponentsResources.bundle",
    ],
    visibility = ["PUBLIC"],
)

static_library(
    name = "LegacyComponents",
    srcs = glob([
        "LegacyComponents/*.m",
        "LegacyComponents/*.mm",
        "LegacyComponents/*.c",
        "LegacyComponents/*.cpp",
    ]),
    headers = glob([
        "LegacyComponents/*.h",
    ]),
    exported_headers = [
        "LegacyComponents/LegacyComponentsGlobals.h",
        "LegacyComponents/LegacyComponentsContext.h",
        "LegacyComponents/TGLocalization.h",
        "LegacyComponents/TGPluralization.h",
        "LegacyComponents/TGStringUtils.h",
        "LegacyComponents/TGPhoneUtils.h",
        "LegacyComponents/NSObject+TGLock.h",
        "LegacyComponents/RMPhoneFormat.h",
        "LegacyComponents/NSInputStream+TL.h",
        "LegacyComponents/TGFont.h",
        "LegacyComponents/TGImageUtils.h",
        "LegacyComponents/TGDateUtils.h",
        "LegacyComponents/Freedom.h",
        "LegacyComponents/FreedomUIKit.h",
        "LegacyComponents/TGHacks.h",
        "LegacyComponents/TGImageBlur.h",
        "LegacyComponents/UIDevice+PlatformInfo.h",
        "LegacyComponents/TGObserverProxy.h",
        "LegacyComponents/TGModernCache.h",
        "LegacyComponents/TGMemoryImageCache.h",
        "LegacyComponents/LegacyComponentsAccessChecker.h",
        "LegacyComponents/TGTimerTarget.h",
        "LegacyComponents/TGKeyCommand.h",
        "LegacyComponents/TGKeyCommandController.h",
        "LegacyComponents/TGWeakDelegate.h",
        "LegacyComponents/TGCache.h",
        "LegacyComponents/TGLiveUploadInterface.h",
        
        "LegacyComponents/JNWSpringAnimation.h",
        "LegacyComponents/POPAnimationEvent.h",
        "LegacyComponents/POPAnimationTracer.h",
        "LegacyComponents/POPAnimation.h",
        "LegacyComponents/POPBasicAnimation.h",
        "LegacyComponents/POPCustomAnimation.h",
        "LegacyComponents/POPDecayAnimation.h",
        "LegacyComponents/POPPropertyAnimation.h",
        "LegacyComponents/POPSpringAnimation.h",
        "LegacyComponents/POPGeometry.h",
        "LegacyComponents/POPAnimatableProperty.h",

        "LegacyComponents/lmdb.h",
        "LegacyComponents/PSLMDBTable.h",
        "LegacyComponents/PSLMDBKeyValueStore.h",
        "LegacyComponents/PSLMDBKeyValueReaderWriter.h",
        "LegacyComponents/PSLMDBKeyValueCursor.h",

        "LegacyComponents/PSCoding.h",
        "LegacyComponents/PSData.h",
        "LegacyComponents/PSKeyValueCoder.h",
        "LegacyComponents/PSKeyValueDecoder.h",
        "LegacyComponents/PSKeyValueEncoder.h",
        "LegacyComponents/PSKeyValueReader.h",
        "LegacyComponents/PSKeyValueStore.h",
        "LegacyComponents/PSKeyValueWriter.h",

        "LegacyComponents/TGPeerIdAdapter.h",
        "LegacyComponents/TGUser.h",
        "LegacyComponents/TGBotInfo.h",
        "LegacyComponents/TGBotComandInfo.h",
        "LegacyComponents/TGConversation.h",

        "LegacyComponents/TGModernConversationAssociatedInputPanel.h",
        "LegacyComponents/TGModernConversationHashtagsAssociatedPanel.h",
        "LegacyComponents/TGModernConversationMentionsAssociatedPanel.h",
        "LegacyComponents/TGModernConversationAlphacodeAssociatedPanel.h",
        "LegacyComponents/TGSuggestionContext.h",
        "LegacyComponents/TGAlphacode.h",

        "LegacyComponents/TGTextCheckingResult.h",
        "LegacyComponents/TGChannelBannedRights.h",
        "LegacyComponents/TGChannelAdminRights.h",
        "LegacyComponents/TGDatabaseMessageDraft.h",
        "LegacyComponents/TGMessageGroup.h",
        "LegacyComponents/TGMessageHole.h",
        "LegacyComponents/TGMessageViewCountContentProperty.h",
        "LegacyComponents/TGAuthorSignatureMediaAttachment.h",
        "LegacyComponents/TGWebDocument.h",
        "LegacyComponents/TGInvoiceMediaAttachment.h",
        "LegacyComponents/TGGameMediaAttachment.h",
        "LegacyComponents/TGViaUserAttachment.h",
        "LegacyComponents/TGBotContextResultAttachment.h",
        "LegacyComponents/TGMessageEntity.h",
        "LegacyComponents/TGMessageEntityBold.h",
        "LegacyComponents/TGMessageEntityBotCommand.h",
        "LegacyComponents/TGMessageEntityCode.h",
        "LegacyComponents/TGMessageEntityEmail.h",
        "LegacyComponents/TGMessageEntityHashtag.h",
        "LegacyComponents/TGMessageEntityItalic.h",
        "LegacyComponents/TGMessageEntityMention.h",
        "LegacyComponents/TGMessageEntityMentionName.h",
        "LegacyComponents/TGMessageEntityPre.h",
        "LegacyComponents/TGMessageEntityTextUrl.h",
        "LegacyComponents/TGMessageEntityUrl.h",
        "LegacyComponents/TGMessageEntitiesAttachment.h",
        "LegacyComponents/TGBotReplyMarkup.h",
        "LegacyComponents/TGBotReplyMarkupButton.h",
        "LegacyComponents/TGBotReplyMarkupRow.h",
        "LegacyComponents/TGReplyMarkupAttachment.h",
        "LegacyComponents/TGInstantPage.h",
        "LegacyComponents/TGWebPageMediaAttachment.h",
        "LegacyComponents/TGAudioMediaAttachment.h",
        "LegacyComponents/TGAudioWaveform.h",
        "LegacyComponents/TGStickerPackReference.h",
        "LegacyComponents/TGDocumentAttributeFilename.h",
        "LegacyComponents/TGDocumentAttributeImageSize.h",
        "LegacyComponents/TGDocumentAttributeSticker.h",
        "LegacyComponents/TGDocumentAttributeVideo.h",
        "LegacyComponents/TGDocumentAttributeAnimated.h",
        "LegacyComponents/TGDocumentAttributeAudio.h",
        "LegacyComponents/TGDocumentMediaAttachment.h",
        "LegacyComponents/TGUnsupportedMediaAttachment.h",
        "LegacyComponents/TGForwardedMessageMediaAttachment.h",
        "LegacyComponents/TGContactMediaAttachment.h",
        "LegacyComponents/TGVideoInfo.h",
        "LegacyComponents/TGVideoMediaAttachment.h",
        "LegacyComponents/TGLocalMessageMetaMediaAttachment.h",
        "LegacyComponents/TGLocationMediaAttachment.h",
        "LegacyComponents/TGImageMediaAttachment.h",
        "LegacyComponents/TGMediaAttachment.h",
        "LegacyComponents/TGImageInfo.h",
        "LegacyComponents/TGMediaOriginInfo.h",
        "LegacyComponents/TGMessage.h",
        "LegacyComponents/TGStickerPack.h",
        "LegacyComponents/TGStickerAssociation.h",
        "LegacyComponents/TGPhotoMaskPosition.h",

        "LegacyComponents/ActionStage.h",
        "LegacyComponents/ASActor.h",
        "LegacyComponents/ASHandle.h",
        "LegacyComponents/ASQueue.h",
        "LegacyComponents/ASWatcher.h",
        "LegacyComponents/SGraphListNode.h",
        "LegacyComponents/SGraphNode.h",
        "LegacyComponents/SGraphObjectNode.h",

        "LegacyComponents/TGLabel.h",
        "LegacyComponents/TGToolbarButton.h",
        "LegacyComponents/UIScrollView+TGHacks.h",
        "LegacyComponents/TGAnimationBlockDelegate.h",
        "LegacyComponents/TGBackdropView.h",
        "LegacyComponents/UIImage+TG.h",
        "LegacyComponents/TGStaticBackdropAreaData.h",
        "LegacyComponents/TGStaticBackdropImageData.h",
        "LegacyComponents/TGImageLuminanceMap.h",
        "LegacyComponents/TGFullscreenContainerView.h",
        "LegacyComponents/TGDoubleTapGestureRecognizer.h",
        "LegacyComponents/TGModernButton.h",
        "LegacyComponents/TGModernToolbarButton.h",
        "LegacyComponents/TGModernBackToolbarButton.h",
        "LegacyComponents/UIControl+HitTestEdgeInsets.h",
        "LegacyComponents/TGMenuView.h",
        "LegacyComponents/TGImageView.h",
        "LegacyComponents/UICollectionView+Utils.h",
        "LegacyComponents/TGMessageImageViewOverlayView.h",
        "LegacyComponents/TGLetteredAvatarView.h",
        "LegacyComponents/TGGradientLabel.h",
        "LegacyComponents/TGRemoteImageView.h",

        "LegacyComponents/TGProgressSpinnerView.h",
        "LegacyComponents/TGProgressWindow.h",

        "LegacyComponents/TGMenuSheetController.h",
        "LegacyComponents/TGMenuSheetButtonItemView.h",
        "LegacyComponents/TGMenuSheetCollectionView.h",
        "LegacyComponents/TGMenuSheetItemView.h",
        "LegacyComponents/TGMenuSheetTitleItemView.h",
        "LegacyComponents/TGMenuSheetView.h",

        "LegacyComponents/HPGrowingTextView.h",
        "LegacyComponents/HPTextViewInternal.h",
        "LegacyComponents/TGInputTextTag.h",

        "LegacyComponents/TGStickerKeyboardTabPanel.h",

        "LegacyComponents/TGItemPreviewController.h",
        "LegacyComponents/TGItemPreviewView.h",
        "LegacyComponents/TGItemMenuSheetPreviewView.h",

        "LegacyComponents/TGImageManager.h",
        "LegacyComponents/TGDataResource.h",
        "LegacyComponents/TGImageDataSource.h",
        "LegacyComponents/TGImageManagerTask.h",

        "LegacyComponents/TGRTLScreenEdgePanGestureRecognizer.h",
        "LegacyComponents/TGNavigationController.h",
        "LegacyComponents/TGNavigationBar.h",
        "LegacyComponents/TGViewController.h",
        "LegacyComponents/TGViewController+TGRecursiveEnumeration.h",
        "LegacyComponents/TGOverlayController.h",
        "LegacyComponents/TGOverlayControllerWindow.h",

        "LegacyComponents/TGMediaAssetsLibrary.h",
        "LegacyComponents/TGMediaAssetsModernLibrary.h",
        "LegacyComponents/TGMediaAsset.h",
        "LegacyComponents/TGMediaAssetFetchResult.h",
        "LegacyComponents/TGMediaAssetFetchResultChange.h",
        "LegacyComponents/TGMediaAssetGroup.h",
        "LegacyComponents/TGMediaAssetMoment.h",
        "LegacyComponents/TGMediaAssetMomentList.h",
        "LegacyComponents/TGMediaAssetImageSignals.h",
        "LegacyComponents/TGMediaSelectionContext.h",
        "LegacyComponents/TGMediaEditingContext.h",

        "LegacyComponents/TGModernGalleryZoomableItemViewContent.h",
        "LegacyComponents/TGModernGalleryZoomableScrollView.h",
        "LegacyComponents/TGModernGalleryZoomableScrollViewSwipeGestureRecognizer.h",
        "LegacyComponents/TGModernGalleryVideoView.h",
        "LegacyComponents/TGModernGalleryScrollView.h",
        "LegacyComponents/TGModernGalleryItem.h",
        "LegacyComponents/TGModernGalleryItemView.h",
        "LegacyComponents/TGModernGalleryImageItem.h",
        "LegacyComponents/TGModernGalleryImageItemView.h",
        "LegacyComponents/TGModernGalleryImageItemImageView.h",
        "LegacyComponents/TGModernGalleryEditableItemView.h",
        "LegacyComponents/TGModernGallerySelectableItem.h",
        "LegacyComponents/TGModernGalleryDefaultFooterAccessoryView.h",
        "LegacyComponents/TGModernGalleryDefaultFooterView.h",
        "LegacyComponents/TGModernGalleryDefaultHeaderView.h",
        "LegacyComponents/TGModernGalleryDefaultInterfaceView.h",
        "LegacyComponents/TGModernGalleryInterfaceView.h",
        "LegacyComponents/TGModernGalleryImageItemContainerView.h",
        "LegacyComponents/TGModernGalleryZoomableItemView.h",
        "LegacyComponents/TGModernGalleryModel.h",
        "LegacyComponents/TGModernGalleryTransitionView.h",
        "LegacyComponents/TGModernGalleryView.h",
        "LegacyComponents/TGModernGalleryContainerView.h",
        "LegacyComponents/TGModernGalleryEmbeddedStickersHeaderView.h",
        "LegacyComponents/TGModernGalleryController.h",

        "LegacyComponents/TGPhotoToolbarView.h",
        "LegacyComponents/TGMediaPickerGalleryModel.h",
        "LegacyComponents/TGMediaPickerGalleryInterfaceView.h",
        "LegacyComponents/TGPhotoEditorController.h",
        "LegacyComponents/TGMediaAvatarEditorTransition.h",

        "LegacyComponents/TGPhotoEditorUtils.h",
        "LegacyComponents/PGPhotoEditorValues.h",
        "LegacyComponents/TGVideoEditAdjustments.h",
        "LegacyComponents/AVURLAsset+TGMediaItem.h",
        "LegacyComponents/UIImage+TGMediaEditableItem.h",
        "LegacyComponents/TGMediaVideoConverter.h",
        "LegacyComponents/TGGifConverter.h",

        "LegacyComponents/TGPhotoEditorAnimation.h",

        "LegacyComponents/TGPaintingData.h",
        "LegacyComponents/TGPaintUtils.h",
        "LegacyComponents/TGPhotoPaintEntity.h",
        "LegacyComponents/TGPhotoPaintStickerEntity.h",
        "LegacyComponents/TGPaintUndoManager.h",

        "LegacyComponents/PGCamera.h",
        "LegacyComponents/PGCameraCaptureSession.h",
        "LegacyComponents/PGCameraDeviceAngleSampler.h",
        "LegacyComponents/PGCameraMomentSegment.h",
        "LegacyComponents/PGCameraMomentSession.h",
        "LegacyComponents/PGCameraMovieWriter.h",
        "LegacyComponents/PGCameraShotMetadata.h",
        "LegacyComponents/PGCameraVolumeButtonHandler.h",
        "LegacyComponents/TGCameraPreviewView.h",
        "LegacyComponents/TGCameraMainPhoneView.h",
        "LegacyComponents/TGCameraMainTabletView.h",
        "LegacyComponents/TGCameraMainView.h",
        "LegacyComponents/TGCameraFlashActiveView.h",
        "LegacyComponents/TGCameraFlashControl.h",
        "LegacyComponents/TGCameraFlipButton.h",
        "LegacyComponents/TGCameraInterfaceAssets.h",
        "LegacyComponents/TGCameraModeControl.h",
        "LegacyComponents/TGCameraSegmentsView.h",
        "LegacyComponents/TGCameraShutterButton.h",
        "LegacyComponents/TGCameraTimeCodeView.h",
        "LegacyComponents/TGCameraZoomView.h",
        "LegacyComponents/TGCameraPhotoPreviewController.h",
        "LegacyComponents/TGCameraController.h",
        "LegacyComponents/TGCameraCapturedPhoto.h",
        "LegacyComponents/TGCameraCapturedVideo.h",
        "LegacyComponents/TGPhotoVideoEditor.h",

        "LegacyComponents/TGModernConversationTitleActivityIndicator.h",
        "LegacyComponents/TGEmbedPIPButton.h",
        "LegacyComponents/TGEmbedPIPPullArrowView.h",
        "LegacyComponents/TGEmbedPlayerState.h",
        "LegacyComponents/TGAttachmentCameraView.h",
        "LegacyComponents/TGMediaAvatarMenuMixin.h",
        "LegacyComponents/TGPassportAttachMenu.h",
        "LegacyComponents/TGPassportScanController.h",
        "LegacyComponents/TGPassportOCR.h",
        "LegacyComponents/TGPassportMRZ.h",
        "LegacyComponents/TGPassportICloud.h",
        "LegacyComponents/TGEmbedPlayerView.h",
        "LegacyComponents/LegacyHTTPRequestOperation.h",

        "LegacyComponents/TGAttachmentCarouselItemView.h",
        "LegacyComponents/TGMediaAssetsController.h",

        "LegacyComponents/TGLocationVenue.h",
        "LegacyComponents/TGLocationMapViewController.h",
        "LegacyComponents/TGLocationPickerController.h",
        "LegacyComponents/TGLocationViewController.h",
        "LegacyComponents/TGListsTableView.h",
        "LegacyComponents/TGSearchBar.h",
        "LegacyComponents/TGSearchDisplayMixin.h",

        "LegacyComponents/TGPhotoEditorSliderView.h",

        "LegacyComponents/TGClipboardGalleryMixin.h",
        "LegacyComponents/TGClipboardGalleryPhotoItem.h",
        "LegacyComponents/TGVideoMessageCaptureController.h",
        "LegacyComponents/TGModernConversationInputMicButton.h",

        "LegacyComponents/TGLocationPulseView.h",
        "LegacyComponents/TGLocationWavesView.h",
        "LegacyComponents/TGLocationLiveElapsedView.h",
        "LegacyComponents/TGLocationLiveSessionItemView.h",

        "LegacyComponents/TGTooltipView.h",

        "LegacyComponents/TGCheckButtonView.h",
        "LegacyComponents/TGClipboardMenu.h",
        "LegacyComponents/TGImagePickerController.h",
        "LegacyComponents/TGLegacyCameraController.h",
        "LegacyComponents/TGProxyWindow.h",
        "LegacyComponents/TGIconSwitchView.h",

        "LegacyComponents/TGModernGalleryEditableItem.h",
        "LegacyComponents/TGPhotoEditorButton.h",

        "LegacyComponents/TGActionMediaAttachment.h",
        "LegacyComponents/TGReplyMessageMediaAttachment.h",
        "LegacyComponents/TGMessageEntityPhone.h",
        "LegacyComponents/TGMessageEntityCashtag.h",
        "LegacyComponents/TGPIPAblePlayerView.h",
        "LegacyComponents/TGEmbedPlayerControls.h",

        "LegacyComponents/TGMediaAssetsUtils.h",
    ],
    deps = [
        "//submodules/SSignalKit/SSignalKit:SSignalKit",
        "//submodules/AppBundle:AppBundle",
    ],
    frameworks = [
        "$SDKROOT/System/Library/Frameworks/Foundation.framework",
        "$SDKROOT/System/Library/Frameworks/UIKit.framework",
    ],
    weak_frameworks = [
        "Vision",
    ],
)
